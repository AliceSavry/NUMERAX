<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NUMERAX SYSTEM CONSOLE</title>
  <style>
    body {
      background-color: black;
      color: #00FF00;
      font-family: 'Courier New', Courier, monospace;
      padding: 20px;
    }
    h1 {
      color: #00FF00;
      text-align: center;
    }
    .console-line {
      margin: 10px 0;
    }
    .input-section {
      margin-top: 30px;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .code-block {
      background-color: #001100;
      padding: 10px;
      border-left: 3px solid #00FF00;
      margin-bottom: 20px;
    }
    .code-block input {
      background-color: black;
      border: none;
      border-bottom: 1px solid #00FF00;
      color: #00FF00;
      font-size: 1.1em;
      width: 300px;
    }
    .code-block input:focus {
      outline: none;
    }
    .feedback {
      margin-top: 10px;
      color: red;
    }
    .cursor {
      display: inline-block;
      width: 10px;
      height: 1em;
      background-color: #00FF00;
      animation: blink 1s steps(2, start) infinite;
      vertical-align: bottom;
    }
    @keyframes blink {
      to {
        visibility: hidden;
      }
    }
  </style>
</head>
<body>
  <h1>NUMERAX SYSTEM CONSOLE</h1>

  <div class="console-line">&gt; INITIALISATION DU SYSTEME D'INFORMATION EN COURS...</div>
  <div class="console-line">&gt; VERIFICATION DES MODULES...</div>

  <div id="console-output">
    <div class="console-line" id="prompt"></div>
    <div class="code-block" id="riddle"></div>
    <div class="input-section">
      <input type="text" id="codeInput" placeholder="ENTRER LE CODE">
      <span class="cursor"></span>
      <button onclick="checkCode()">VALIDER</button>
    </div>
    <div class="console-line" id="response"></div>
  </div>

  <script>
    const riddles = [
      "[ACTIVITÉ] Qui est la Directrice Administrative et Financière responsable du pilotage des données comptables ?",
      "[ACTIVITÉ] Quel est le nom du flux qui permet d’éditer les documents de synthèse dans le PGI ?",
      "[ACTIVITÉ] Quel outil avez-vous utilisé pour réaliser les tableaux croisés dynamiques ?",
      "[ACTIVITÉ] Pour fiabiliser le SIC, quelle priorité avez-vous identifiée dans votre rapport ?",
      "[ACTIVITÉ] Quel outil avez-vous recommandé d’installer pour prévenir les intrusions dans le système ?",
      "[ACTIVITÉ] Quel outil est commun à plusieurs activités et permet de construire des indicateurs clés de performance ?"
    ];

    const expectedCodes = ["SOPHIE", "SYNTHESE", "TABLEUR", "SECURITE", "ANTIVIRUS", "TABLEUR"];
    let currentStep = 0;

    document.getElementById("prompt").textContent = "> CODE 1 REQUIS :";
    typeText(document.getElementById("riddle"), riddles[0]);

    function typeText(el, text, i = 0) {
      el.textContent = text.substring(0, i);
      if (i < text.length) {
        setTimeout(() => typeText(el, text, i + 1), 25);
      }
    }

    function checkCode() {
      const input = document.getElementById("codeInput").value.trim().toUpperCase();
      const response = document.getElementById("response");
      const prompt = document.getElementById("prompt");
      const riddle = document.getElementById("riddle");

      if (input === expectedCodes[currentStep]) {
        response.textContent = `✔ CODE ${currentStep + 1} VALIDE`;
        currentStep++;
        if (currentStep < expectedCodes.length) {
          prompt.textContent = `> CODE ${currentStep + 1} REQUIS :`;
          typeText(riddle, riddles[currentStep]);
          document.getElementById("codeInput").value = "";
        } else {
          prompt.textContent = "> TOUS LES CODES VALIDES. SAISISSEZ LE MOT DE PASSE FINAL :";
          typeText(riddle, "[ACTIVITÉ GLOBALE] À partir de tous les éléments trouvés, quel est le nom de l’élément central du SIC que vous venez de réactiver ?");
          document.getElementById("codeInput").value = "";
          document.querySelector("button").onclick = checkFinalPassword;
        }
      } else {
        response.textContent = "❌ ERREUR : LE MOT-CLÉ N'EST PAS LE BON ! RECOMMENCEZ.";
        document.getElementById("codeInput").value = "";
      }
    }

    function checkFinalPassword() {
      const input = document.getElementById("codeInput").value.trim().toUpperCase();
      if (input === "SYSTEME") {
        document.body.innerHTML = '<h2 style="color: lime;">Bienvenue dans le PGI de NUMERAX</h2>' +
                                  '<p style="color: lime;">Tous les modules sont opérationnels.</p>' +
                                  '<ul style="list-style: none; padding: 0; color: lime; font-size: 1.2em;">' +
                                  '<li>&gt; FACTURATION</li>' +
                                  '<li>&gt; DEVIS</li>' +
                                  '<li>&gt; COMPTABILITÉ</li>' +
                                  '<li>&gt; PAYE</li>' +
                                  '<li>&gt; TABLEAUX DE SUIVI</li>' +
                                  '</ul>' +
                                  '<button onclick="window.close()" style="padding: 1em; font-size: 1.2em; background-color: #00FF00; color: black; border: none; cursor: pointer; margin-top: 2em;">ÉTEINDRE LE SYSTÈME</button>';
      } else {
        document.getElementById("response").textContent = "❌ MOT DE PASSE INCORRECT. RECOMMENCEZ.";
        document.getElementById("codeInput").value = "";
      }
    }
  </script>
</body>
</html>
